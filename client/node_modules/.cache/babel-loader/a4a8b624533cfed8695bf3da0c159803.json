{"ast":null,"code":"import React from\"react\";import{useQuery}from\"react-query\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var fetch=function fetch(){return axios.get(\"/chat/get\");};export var Messages=function Messages(_ref){var form=_ref.form;var _useQuery=useQuery(\"message\",fetch,{refetchInterval:5000}),isLoading=_useQuery.isLoading,data=_useQuery.data,isFetching=_useQuery.isFetching,error=_useQuery.error,refetch=_useQuery.refetch;if(isLoading){return/*#__PURE__*/_jsx(\"h2\",{children:\"Loading\"});}return/*#__PURE__*/_jsx(_Fragment,{children:data===null||data===void 0?void 0:data.data.map(function(msg){var messageClassName=\"message\"+(msg.user===form.user?\"-green\":\"\");return/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(messageClassName,\" my-2 w-25\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"userName mx-3\",children:msg.user}),/*#__PURE__*/_jsx(\"div\",{className:\"mx-4 fs-5\",children:msg.title}),/*#__PURE__*/_jsx(\"div\",{className:\"text-end mx-4\",children:msg.date})]},msg._id);})});};","map":{"version":3,"names":["React","useQuery","axios","fetch","get","Messages","form","refetchInterval","isLoading","data","isFetching","error","refetch","map","msg","messageClassName","user","title","date","_id"],"sources":["C:/react/express/messanger/client/src/pages/Messages.js"],"sourcesContent":["import React from \"react\";\nimport { useQuery } from \"react-query\";\nimport axios from \"axios\";\n\nconst fetch = () => {\n  return axios.get(\"/chat/get\");\n};\n\nexport const Messages = ({ form }) => {\n  const { isLoading, data, isFetching, error, refetch } = useQuery(\n    \"message\",\n    fetch,\n    {\n        refetchInterval: 5000\n    }\n\n  );\n\n  if (isLoading) {\n    return <h2>Loading</h2>;\n  }\n\n  return (\n    <>\n      {data?.data.map((msg) => {\n        const messageClassName =\n          \"message\" + (msg.user === form.user ? \"-green\" : \"\");\n        return (\n          <div key={msg._id} className={`${messageClassName} my-2 w-25`}>\n            <div className=\"userName mx-3\">{msg.user}</div>\n            <div className=\"mx-4 fs-5\">{msg.title}</div>\n            <div className=\"text-end mx-4\">{msg.date}</div>\n          </div>\n        );\n      })}\n    </>\n  );\n};\n"],"mappings":"AAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,aAAzB,CACA,MAAOC,MAAP,KAAkB,OAAlB,C,6IAEA,GAAMC,MAAK,CAAG,QAARA,MAAQ,EAAM,CAClB,MAAOD,MAAK,CAACE,GAAN,CAAU,WAAV,CAAP,CACD,CAFD,CAIA,MAAO,IAAMC,SAAQ,CAAG,QAAXA,SAAW,MAAc,IAAXC,KAAW,MAAXA,IAAW,CACpC,cAAwDL,QAAQ,CAC9D,SAD8D,CAE9DE,KAF8D,CAG9D,CACII,eAAe,CAAE,IADrB,CAH8D,CAAhE,CAAQC,SAAR,WAAQA,SAAR,CAAmBC,IAAnB,WAAmBA,IAAnB,CAAyBC,UAAzB,WAAyBA,UAAzB,CAAqCC,KAArC,WAAqCA,KAArC,CAA4CC,OAA5C,WAA4CA,OAA5C,CASA,GAAIJ,SAAJ,CAAe,CACb,mBAAO,+BAAP,CACD,CAED,mBACE,yBACGC,IADH,SACGA,IADH,iBACGA,IAAI,CAAEA,IAAN,CAAWI,GAAX,CAAe,SAACC,GAAD,CAAS,CACvB,GAAMC,iBAAgB,CACpB,WAAaD,GAAG,CAACE,IAAJ,GAAaV,IAAI,CAACU,IAAlB,CAAyB,QAAzB,CAAoC,EAAjD,CADF,CAEA,mBACE,aAAmB,SAAS,WAAKD,gBAAL,cAA5B,wBACE,YAAK,SAAS,CAAC,eAAf,UAAgCD,GAAG,CAACE,IAApC,EADF,cAEE,YAAK,SAAS,CAAC,WAAf,UAA4BF,GAAG,CAACG,KAAhC,EAFF,cAGE,YAAK,SAAS,CAAC,eAAf,UAAgCH,GAAG,CAACI,IAApC,EAHF,GAAUJ,GAAG,CAACK,GAAd,CADF,CAOD,CAVA,CADH,EADF,CAeD,CA7BM"},"metadata":{},"sourceType":"module"}